2008-03-27 Jaka Kranjc <lynxlynxlynx@sourcemage.org>
	* changed uses of plain sort|uniq to the featurewise equivalent sort -u
	  and then the same for uses of plain sort file|uniq

2008-03-26 Jaka Kranjc <lynxlynxlynx@sourcemage.org>
	* libsorcery: deprecated dirnames() for get_dirnames() in libmisc
	  cleaned up guess_filename
	* libmisc: adjusted formatting in get_dirnames and get_basenames and made
	  them use the faster internal smgl_dirname and smgl_basename respectively
	* libdispel, libmisc: fixed the only three callers to use get_dirnames
	* common: cleaned up install_pam_confs
	* libdepends: use real_list_find in private_should_cast instead of forking
	  fixed the check if spell is held in real_sub_depends and improved the msg
	  use real_list_find in private_up_trigger
	  use real_list_find in work_{,optional_}depends_provider
	  fixed private_upward_depends matching spells too loosely
	  use real_list_find in private_run_depends
	  use real_list_find everywhere else
	  fixed real_show_up_depends showing false positives
	* libcodex: silence the unused codex_remove_duplicates with real_list_find
	* applied a modified patch from Arvid Norlander, which mainly changes uses
	  of hash_get to has_get_ref, removes double evaluations and improves some
	  formatting
	* dl_wget, liburl, url_http: use real_list_find instead of echo | grep -q
	* libmisc: fixed esc_str not escaping strings starting with .
	* cleanse: cleanse_fix_ldd_check: use hash_get_ref, don't do the lookup
	  twice and trick wc
	* dispel, libstate: use hash_get_ref some more
	* config: revert the recent addition of STAGED_INSTALL, so
	  is_castfs_installed gets a chance to be run

2008-03-25 Jaka Kranjc <lynxlynxlynx@sourcemage.org>
	* libsorcery: reformatted the files, directories and symlinks functions and
	  made their variable local
	  then did the same for dirnames
	* config: added STAGED_INSTALL default and added DEBUG to the unstaged list
	* libsorcery: rewrote filename_indicates_compression to be less dumb
	* roots: honor environment variables #13263 and improve sourcing #14304

2008-03-24 Jaka Kranjc <lynxlynxlynx@sourcemage.org>
	* libcodex: made a few trivial optimisations, making the remaining relevant
	  functions return by reference
	  fixed ENTERED typo in codex_clear_current_spell and two comments
	* grimoire.5, libcodex, libtablet: made BUILD_API=2 the default
	* libmisc: simplified and sped up is_sorcery_var
	* dispel: made downgrading more user friendly #11749; now a list of
	  possible versions is displayed to choose from and the version
	  doesn't need to be specified on the commandline anymore
	* scribe: scribe index now also shows VERSION of grimoires #14233

2008-03-24 Jaka Kranjc <lynxlynxlynx@sourcemage.org>
	* Start 1.15 development stream.
