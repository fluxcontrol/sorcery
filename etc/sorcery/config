export       DIALOGRC=/etc/sorcery/dialogrc

        SORCERY_BRANCH="stable"

          CONFIG_CACHE=/etc/sorcery/local
          LOCAL_CONFIG=/etc/sorcery/local/config
        DEPENDS_CONFIG=/etc/sorcery/local/depends
        LOCAL_EXCLUDED=/etc/sorcery/local/excluded
        COMPILE_CONFIG=/etc/sorcery/compile_config
               MIRRORS=/etc/sorcery/mirrors
  SM_LICENSE_DIRECTORY=/etc/sorcery/licenses
SM_CONFIG_OPTION_CACHE=/etc/sorcery/local/config_option_cache
          ACCOUNT_LIST=/etc/sorcery/accounts
            GROUP_LIST=/etc/sorcery/groups

        UPDATE_SCRIPT=/tmp/sorcery.update
       RESTORE_SCRIPT=/tmp/sorcery.restore

      BUILD_DIRECTORY=/usr/src
   DOCUMENT_DIRECTORY=/usr/share/doc

      CABAL_DIRECTORY=/etc/sorcery/cabal
          CABAL_NAMES=$CABAL_DIRECTORY/names
           CABAL_KEYS=$CABAL_DIRECTORY/keys
         CABAL_OUTPUT=/tmp/cabal.output

          SGL_LIBRARY=/var/lib/sorcery
  SGL_LIBRARY_MODULES=${SGL_LIBRARY}/modules
           ARCH_SPECS=${SGL_LIBRARY}/archspecs
             EXCLUDED=${SGL_LIBRARY}/excluded
                CODEX=${SGL_LIBRARY}/codex
            WORKCODEX=${SGL_LIBRARY}/workcodex
           TMPFSCODEX=${SGL_LIBRARY}/tmpfscodex
            PROTECTED=${SGL_LIBRARY}/protected
                 SOLO=${SGL_LIBRARY}/solo
          SUBROUTINES=${SGL_LIBRARY}/subroutines
            SUSTAINED=${SGL_LIBRARY}/sustained
      SM_LICENSE_LIST=${SM_LICENSE_DIRECTORY}/license_list

      SOUND_DIRECTORY=${SGL_LIBRARY}/sound
          SOUND_THEME=startrek

           BOOST_LOCK=/var/lock/boost
             LOCK_DIR=/tmp/liblock-$UID
     LOCK_TRANSACTIONS="$LOCK_DIR/liblock.locklist"
            MAX_SLEEP=5

        LOG_DIRECTORY=/var/log/sorcery
         ACTIVITY_LOG=${LOG_DIRECTORY}/activity
         SECURITY_LOG=${LOG_DIRECTORY}/security
         INSTALL_LOGS=${LOG_DIRECTORY}/install
         COMPILE_LOGS=${LOG_DIRECTORY}/compile
          MD5SUM_LOGS=${LOG_DIRECTORY}/md5sum
        INSTALL_QUEUE=${LOG_DIRECTORY}/queue/install
         REMOVE_QUEUE=${LOG_DIRECTORY}/queue/remove

      STATE_DIRECTORY=/var/state/sorcery
       DEPENDS_STATUS=${STATE_DIRECTORY}/depends
DEPENDS_STATUS_BACKUP=${STATE_DIRECTORY}/depends.backup
         SPELL_STATUS=${STATE_DIRECTORY}/packages
  SPELL_STATUS_BACKUP=${STATE_DIRECTORY}/packages.backup
         TRIGGER_LIST=${STATE_DIRECTORY}/triggers
        GRIMOIRE_LIST=/etc/sorcery/local/grimoire
 GRIMOIRE_LIST_BACKUP=/etc/sorcery/local/grimoire.backup
          MENU_STATUS=${STATE_DIRECTORY}/menus
   MENU_STATUS_BACKUP=${STATE_DIRECTORY}/menus.backup

        INSTALL_CACHE=/var/cache/sorcery
         SOURCE_CACHE=${SOURCE_CACHE:=/var/spool/sorcery}

         SPELL_INDEX_FILE=codex.index
       PROVIDE_INDEX_FILE=provides.index

#  Override the following variables in /etc/sorcery/local/config
#  Or by exporting them before casting or dispelling.

                 CAST=cast
              ARCHIVE=${ARCHIVE:=on}
              AUTOFIX=${AUTOFIX:=on}
            AUTOPRUNE=${AUTOPRUNE:=off}
                CABAL=${CABAL:=off}
         MAIL_REPORTS=${MAIL_REPORTS:=off}
                PATCH=${PATCH:=off}
             PRESERVE=${PRESERVE:=on}
                 REAP=${REAP:=on}
             SORCERER=${SORCERER:=root}
                SOUND=${SOUND:=off}
              SUSTAIN=${SUSTAIN:=on}
                TMPFS=${TMPFS:=off}
         VIEW_REPORTS=${VIEW_REPORTS:=on}
               VOYEUR=${VOYEUR:=on}
         PROMPT_DELAY=${PROMPT_DELAY:=150}
           MAX_CABALS=${MAX_CABALS:=16}
           NET_SELECT=${NET_SELECT:=off}
            MD5SUM_DL=${MD5SUM_DL:=off}
         CLEAN_SOURCE=${CLEAN_SOURCE:=off}
          COMPRESSBIN=${COMPRESSBIN:=bzip2}
            EXTENSION=${EXTENSION:=.bz2}
       SET_TERM_TITLE=${SET_TERM_TITLE:=off}
                 NICE=${NICE:=+10}

            LDD_CHECK=${LDD_CHECK:=on}
           FIND_CHECK=${FIND_CHECK:=on}
         MD5SUM_CHECK=${MD5SUM_CHECK:=on}
            SYM_CHECK=${SYM_CHECK:=off}

              GNU_URL=ftp://ftp.gnu.org/pub/gnu
              KDE_URL=ftp://ftp.kde.org/pub/kde
             CTAN_URL=ftp://tug.ctan.org/tex-archive
            GNOME_URL=ftp://ftp.gnome.org/pub/GNOME
           KERNEL_URL=ftp://ftp.kernel.org
          XFREE86_URL=ftp://ftp.xfree86.org/pub/XFree86
          SORCERY_URL=http://download.sourcemage.org/sorcery/
      SOURCEFORGE_URL=http://unc.dl.sourceforge.net/sourceforge
			     APACHE_URL=http://www.ibiblio.org/pub/mirrors/apache
               #
               # Set FURLNUM to nr. of fallback urls.
			         #
               FURLNUM=4 
FALLBACK_URL_MIRROR[0]=http://smgl.positivism.org
FALLBACK_URL_MIRROR[1]=ftp://thefrayedknot.armory.com/sorcery
FALLBACK_URL_MIRROR[2]=http://download.sourcemage.org/mirror
FALLBACK_URL_MIRROR[3]=http://mirror.isurf.ca/source_mirror

      # specify default fallback url.
      LEAPFORWARD_URL=${LEAPFORWARD_URL:=""}

           CODEX_ROOT=${CODEX_ROOT:=/var/lib/sorcery/codex}
            CODEX_URL=${CODEX_URL:=http://codex.sourcemage.org}
 URL_HTTP_FTP_TIMEOUT=${URL_HTTP_FTP_TIMEOUT:=90}

              TRACKED="/bin /boot /etc /lib /sbin /usr /var"
                 DOCS="README* FAQ* CHAN* doc* DOC* conf SETUP LICENSE COPYING NEWS"

              DEFAULT="\e[0m"
                 BOLD="\e[1m"
                BLACK="\e[30m"
                  RED="\e[31m"
                GREEN="\e[32m"
               YELLOW="\e[33m"
                 BLUE="\e[34m"
               VIOLET="\e[35m"
                 CYAN="\e[36m"
                WHITE="\e[37m"

          SPELL_COLOR="${WHITE}${BOLD}\e[40m"
        VERSION_COLOR="${WHITE}${BOLD}\e[40m"
          QUERY_COLOR="${YELLOW}${BOLD}"
         DISPEL_COLOR="${YELLOW}${BOLD}"
          CHECK_COLOR="${CYAN}"
      RESURRECT_COLOR="${GREEN}${BOLD}"
           FILE_COLOR="${GREEN}${BOLD}"
        SYMLINK_COLOR="${CYAN}${BOLD}"
        PROBLEM_COLOR="${RED}${BOLD}"
        MESSAGE_COLOR="${CYAN}"
        DEFAULT_COLOR="${DEFAULT}"

                PAGER=${PAGER:=less}
             FILEPROG=${FILEPROG:=file}
           DIALOGPROG=${DIALOGPROG:=dialog}

                DEBUG=${DEBUG:=/dev/null}

          INSTALL_ROOT=${INSTALL_ROOT:=""} # was "/"
          CROSS_INSTALL=${CROSS_INSTALL:=off}

         ARCHITECTURE=${ARCHITECTURE:=i386}
        OPTIMIZATIONS=${OPTIMIZATIONS:=strip}

PROGRESS_SPINNER_CHARS='-\|/'

        WHITESPACE_IFS=$' \t\n'
         TAB_ENTER_IFS=$'\t\n'
             ENTER_IFS=$'\n'
          STANDARD_IFS=$WHITESPACE_IFS

. $SUBROUTINES
. $INSTALL_ROOT$LOCAL_CONFIG
. $COMPILE_CONFIG
optimize
[  -r  $INSTALL_ROOT$GRIMOIRE_LIST  ]  &&  .  $INSTALL_ROOT$GRIMOIRE_LIST

